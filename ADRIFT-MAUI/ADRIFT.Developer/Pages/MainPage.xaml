<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:ADRIFT.Developer.ViewModels"
             x:Class="ADRIFT.Developer.Pages.MainPage"
             x:DataType="vm:MainViewModel"
             Title="ADRIFT Developer">

    <ScrollView>
        <VerticalStackLayout Spacing="16" Padding="20">

            <!-- Welcome Section -->
            <Frame BackgroundColor="{StaticResource ADRIFTPrimary}" CornerRadius="8">
                <VerticalStackLayout Spacing="8">
                    <Label Text="Welcome to ADRIFT 5"
                           FontSize="24"
                           FontAttributes="Bold"
                           TextColor="White" />
                    <Label Text="Interactive Fiction Development Environment"
                           FontSize="14"
                           TextColor="White"
                           Opacity="0.9" />
                </VerticalStackLayout>
            </Frame>

            <!-- Adventure Info -->
            <Frame>
                <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto"
                      ColumnDefinitions="Auto,*"
                      RowSpacing="12"
                      ColumnSpacing="16">

                    <Label Grid.Row="0" Grid.Column="0"
                           Text="Adventure Title:"
                           FontAttributes="Bold" />
                    <Entry Grid.Row="0" Grid.Column="1"
                           Text="{Binding AdventureTitle}"
                           Placeholder="Enter adventure title" />

                    <Label Grid.Row="1" Grid.Column="0"
                           Text="Author:"
                           FontAttributes="Bold" />
                    <Entry Grid.Row="1" Grid.Column="1"
                           Text="{Binding Author}"
                           Placeholder="Your name" />

                    <Label Grid.Row="2" Grid.Column="0"
                           Text="Introduction:"
                           FontAttributes="Bold"
                           VerticalOptions="Start" />
                    <Editor Grid.Row="2" Grid.Column="1"
                            Text="{Binding Introduction}"
                            Placeholder="Introduction text for your adventure"
                            HeightRequest="100"
                            AutoSize="TextChanges" />

                    <Label Grid.Row="3" Grid.Column="0"
                           Text="Winning Text:"
                           FontAttributes="Bold"
                           VerticalOptions="Start" />
                    <Editor Grid.Row="3" Grid.Column="1"
                            Text="{Binding WinningText}"
                            Placeholder="Text shown when player wins"
                            HeightRequest="100"
                            AutoSize="TextChanges" />

                    <Label Grid.Row="4" Grid.Column="0"
                           Text="Version:"
                           FontAttributes="Bold" />
                    <Label Grid.Row="4" Grid.Column="1"
                           Text="{Binding Version}" />
                </Grid>
            </Frame>

            <!-- Statistics -->
            <Frame>
                <VerticalStackLayout Spacing="12">
                    <Label Text="Adventure Statistics"
                           FontSize="18"
                           FontAttributes="Bold" />

                    <Grid ColumnDefinitions="*,*,*"
                          RowDefinitions="Auto,Auto,Auto"
                          ColumnSpacing="16"
                          RowSpacing="8">

                        <!-- Locations -->
                        <Frame Grid.Column="0" Grid.Row="0"
                               BackgroundColor="{StaticResource ADRIFTSurface}">
                            <VerticalStackLayout Spacing="4">
                                <Label Text="{Binding LocationCount}"
                                       FontSize="32"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" />
                                <Label Text="Locations"
                                       FontSize="12"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Frame>

                        <!-- Objects -->
                        <Frame Grid.Column="1" Grid.Row="0"
                               BackgroundColor="{StaticResource ADRIFTSurface}">
                            <VerticalStackLayout Spacing="4">
                                <Label Text="{Binding ObjectCount}"
                                       FontSize="32"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" />
                                <Label Text="Objects"
                                       FontSize="12"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Frame>

                        <!-- Tasks -->
                        <Frame Grid.Column="2" Grid.Row="0"
                               BackgroundColor="{StaticResource ADRIFTSurface}">
                            <VerticalStackLayout Spacing="4">
                                <Label Text="{Binding TaskCount}"
                                       FontSize="32"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" />
                                <Label Text="Tasks"
                                       FontSize="12"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Frame>

                        <!-- Characters -->
                        <Frame Grid.Column="0" Grid.Row="1"
                               BackgroundColor="{StaticResource ADRIFTSurface}">
                            <VerticalStackLayout Spacing="4">
                                <Label Text="{Binding CharacterCount}"
                                       FontSize="32"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" />
                                <Label Text="Characters"
                                       FontSize="12"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Frame>

                        <!-- Events -->
                        <Frame Grid.Column="1" Grid.Row="1"
                               BackgroundColor="{StaticResource ADRIFTSurface}">
                            <VerticalStackLayout Spacing="4">
                                <Label Text="{Binding EventCount}"
                                       FontSize="32"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" />
                                <Label Text="Events"
                                       FontSize="12"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Frame>

                        <!-- Variables -->
                        <Frame Grid.Column="2" Grid.Row="1"
                               BackgroundColor="{StaticResource ADRIFTSurface}">
                            <VerticalStackLayout Spacing="4">
                                <Label Text="{Binding VariableCount}"
                                       FontSize="32"
                                       FontAttributes="Bold"
                                       HorizontalOptions="Center" />
                                <Label Text="Variables"
                                       FontSize="12"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Frame>
                    </Grid>
                </VerticalStackLayout>
            </Frame>

            <!-- Quick Actions -->
            <Frame>
                <VerticalStackLayout Spacing="12">
                    <Label Text="Quick Actions"
                           FontSize="18"
                           FontAttributes="Bold" />

                    <Grid ColumnDefinitions="*,*"
                          RowDefinitions="Auto,Auto,Auto"
                          ColumnSpacing="12"
                          RowSpacing="12">

                        <Button Grid.Row="0" Grid.Column="0"
                                Text="New Location"
                                Command="{Binding NewLocationCommand}"
                                BackgroundColor="{StaticResource ADRIFTPrimary}" />

                        <Button Grid.Row="0" Grid.Column="1"
                                Text="New Object"
                                Command="{Binding NewObjectCommand}"
                                BackgroundColor="{StaticResource ADRIFTPrimary}" />

                        <Button Grid.Row="1" Grid.Column="0"
                                Text="New Task"
                                Command="{Binding NewTaskCommand}"
                                BackgroundColor="{StaticResource ADRIFTPrimary}" />

                        <Button Grid.Row="1" Grid.Column="1"
                                Text="New Character"
                                Command="{Binding NewCharacterCommand}"
                                BackgroundColor="{StaticResource ADRIFTPrimary}" />

                        <Button Grid.Row="2" Grid.Column="0"
                                Text="Test Adventure"
                                Command="{Binding TestAdventureCommand}"
                                BackgroundColor="{StaticResource ADRIFTSecondary}" />

                        <Button Grid.Row="2" Grid.Column="1"
                                Text="View Map"
                                Command="{Binding ViewMapCommand}"
                                BackgroundColor="{StaticResource ADRIFTSecondary}" />
                    </Grid>
                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
